# คู่มือการจัดการผู้ใช้หลัง Deploy

## การเพิ่มผู้ใช้ใหม่

### วิธีที่ 1: ผู้ใช้สมัครเอง (แนะนำ)

1. **แชร์ลิงก์แอป** ให้เพื่อนร่วมงาน
2. **ให้เข้าสู่ระบบ** ผ่าน Replit Auth
3. **ระบบสร้างผู้ใช้อัตโนมัติ** (บทบาท: technician)
4. **Admin เปลี่ยนบทบาท** ในหน้า "จัดการผู้ใช้"

### วิธีที่ 2: เพิ่มผ่าน Database (สำหรับ Admin)

เข้าไป Database Console และรัน SQL:

```sql
-- เพิ่มผู้ใช้ใหม่
INSERT INTO users (id, email, first_name, last_name, role, created_at, updated_at) 
VALUES ('emp-new-001', 'newuser@hotel.com', 'ชื่อ', 'นามสกุล', 'technician', NOW(), NOW());

-- ดูรายชื่อผู้ใช้ทั้งหมด
SELECT id, email, first_name, last_name, role, created_at FROM users ORDER BY created_at;

-- เปลี่ยนบทบาท
UPDATE users SET role = 'manager' WHERE email = 'user@hotel.com';
```

## การจัดการบทบาท

### บทบาทและสิทธิ์:

- **technician** (ช่างเทคนิค)
  - บันทึกการบำรุงรักษา
  - ดูประวัติเครื่องจักร
  - อัพเดทสถานะงาน

- **manager** (ผู้จัดการ) 
  - ทุกอย่างของ technician
  - จัดการแผนการบำรุงรักษา
  - ดูรายงานและสถิติ
  - ดูรายชื่อผู้ใช้

- **admin** (ผู้ดูแลระบบ)
  - ทุกอย่างของ manager
  - จัดการผู้ใช้และเปลี่ยนบทบาท
  - เพิ่ม/ลบเครื่องจักร
  - ตั้งค่าระบบ

### การเปลี่ยนบทบาทผ่าน UI:

1. Login ด้วยบัญชี admin
2. ไป "จัดการผู้ใช้"
3. เลือกผู้ใช้ที่ต้องการ
4. เปลี่ยนบทบาทใน dropdown
5. บันทึก

## ความปลอดภัย

- **ไม่มี password**: ใช้ Replit Auth
- **Session timeout**: 7 วัน
- **Auto-refresh**: ต่ออายุอัตโนมัติ
- **Role-based access**: ควบคุมสิทธิ์ตามบทบาท

## การแก้ไขปัญหา

### ปัญหาทั่วไป:

1. **ผู้ใช้เข้าไม่ได้**: ตรวจสอบ session หมดอายุหรือไม่
2. **ไม่เห็นเมนู**: ตรวจสอบบทบาทผู้ใช้
3. **ข้อมูลไม่อัพเดท**: refresh หน้าเว็บ

### การติดต่อ Admin:

หากมีปัญหา ติดต่อ admin เพื่อ:
- เปลี่ยนบทบาท
- รีเซ็ตข้อมูลผู้ใช้
- แก้ไขปัญหาการเข้าถึง